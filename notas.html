<!DOCTYPE HTML>

<html>
	<head>
		<title>Notas</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="icon" href="images/logo.png" >
	</head>
	<body class="no-sidebar is-preload">
		<div id="page-wrapper">

			<!-- Header -->
			<section id="header">
				<img src="images/logo.png">
				<h1><a href="index.html">Garritas</a></h1>
				<nav id="nav">
					<ul>
						<li class="current"><a href="index.html">Inicio</a></li>
						<li><a href="#">Variedades</a>
							<ul>
								<li><a href="#">Animales domesticos</a>
									<ul>
										<li><a href="#firulais">Perros</a></li>
										<li><a href="#michis">Gatos</a></li>
										<li><a href="#">Conejos</a></li>
									</ul>
								</li>
								<li><a href="#">Animales rurales</a>
									<ul>
										<li><a href="#">Caballos</a></li>
										<li><a href="#">Patos</a></li>
										<li><a href="#">Vacas</a></li>
										<li><a href="#">Cerdos</a></li>
										<li><a href="#">Gallinas</a></li>
									</ul>
								</li>
							</ul>
						</li>
						<li><a href="crud.html">CRUD</a></li>
						<li><a href="notas.html">Notas</a></li>
						<li><a href="info.html">Info</a></li>
					</ul>
				</nav>
			</section>
	
			<!-- Main -->
        <section id="main">
            <div class="container">
                <div class="row">
                    <div class="col-8 col-12-medium">
                        <article class="box post">
                            <header>
                                <h2>Formulario de Notas</h2>
                                <p>Ingrese la cuarta nota para calcular el promedio.</p>
                            </header>
                            <table id="tabla-notas">
                                <thead>
                                    <tr>
                                        <th>Estudiante</th>
                                        <th>Nota 1</th>
                                        <th>Nota 2</th>
                                        <th>Nota 3</th>
                                        <th>Nota 4</th>
                                        <th>Promedio</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Julian David Moscoso</td>
                                        <td id="nota1-1">4.6</td>
                                        <td id="nota1-2">4.1</td>
                                        <td id="nota1-3">4.6</td>
                                        <td><input type="number" id="nota1-4" step="0.1" min="1" max="5" onchange="calcularPromedio('Julian David Moscoso', '1')"></td>
                                        <td id="promedio1">-</td>
                                    </tr>
                                    <tr>
                                        <td>Sofia Rincón Franco</td>
                                        <td id="nota2-1">4.5</td>
                                        <td id="nota2-2">4.1</td>
                                        <td id="nota2-3">4.6</td>
                                        <td><input type="number" id="nota2-4" step="0.1" min="1" max="5" onchange="calcularPromedio('Sofia Rincón Franco', '2')"></td>
                                        <td id="promedio2">-</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div id="resultados"></div>

							<div id="galeria">
								<h3>¿Qué hace el código?</h3>
                                <p>El código cuenta con 3 puntos clave. La tabla que almacena las notas, la división que secciona entre la tabla y el resultado, y la función que calcula los promedios e imprime el mensaje</p>
                                <img src="images/Captura1.png" alt="imagen 1">
                                <img src="images/Captura2.png" alt="imagen 2">
                                <img src="images/Captura3.png" alt="imagen 3">

							</div>
                        </article>
                    </div>
                    <div class="col-4 col-12-medium">
                        <section class="box">
                            <header>
                                <h3>Resultados</h3>
                            </header>
                            <div id="resultados-estudiantes">
                                <p>Los resultados aparecerán aquí.</p>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </section>

        <section id="footer">
            <div class="container">
                <div class="row">
  
                </div>
            </div>
        </section>

    </div>

	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.dropotron.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

    <script>
        function calcularPromedio(nombre, id) {
            let nota1 = parseFloat(document.getElementById(`nota${id}-1`).innerText);
            let nota2 = parseFloat(document.getElementById(`nota${id}-2`).innerText);
            let nota3 = parseFloat(document.getElementById(`nota${id}-3`).innerText);
            let nota4 = parseFloat(document.getElementById(`nota${id}-4`).value) || 0;

            let promedio = (nota1 + nota2 + nota3 + nota4) / 4;

            document.getElementById(`promedio${id}`).innerText = promedio.toFixed(1);
            let resultado = `
                <p><strong>Las notas del estudiante ${nombre} son:</strong><br>
                Nota 1: ${nota1}<br>
                Nota 2: ${nota2}<br>
                Nota 3: ${nota3}<br>
                Nota 4: ${nota4}<br>
                Final: ${promedio.toFixed(1)}<br>
                El estudiante en promedio sacó ${promedio.toFixed(1)}, por ende ${promedio >= 3 ? 'gana' : 'pierde'} el curso.</p>
            `;

            let resultadosDiv = document.getElementById('resultados-estudiantes');
            resultadosDiv.innerHTML += resultado;
        }
    </script>
</body>
</html>